<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кино и Точка</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
    <header class="header">
        <div class="header__wrapper container">
            <div class="header_logo">Кино&Точка</div>
        </div>
    </header>
    <form action="/random_movie" method="post" class="form">
        <div class="form__wrapper container">
            <div><label for="genre">Жанр: </label>
                <select id="genre" name="genre">
                    <option value="триллер">триллер</option>
                    <option value="драма">драма</option>
                    <option value="криминал">криминал</option>
                    <option value="мелодрама">мелодрама</option>
                    <option value="детектив">детектив</option>
                    <option value="фантастика">фантастика</option>
                    <option value="приключения">приключения</option>
                    <option value="биография">биография</option>
                    <option value="фильм-нуар">фильм-нуар</option>
                    <option value="вестерн">вестерн</option>
                    <option value="боевик">боевик</option>
                    <option value="фэнтези">фэнтези</option>
                    <option value="комедия">комедия</option>
                    <option value="военный">военный</option>
                    <option value="история">история</option>
                    <option value="музыка">музыка</option>
                    <option value="ужасы">ужасы</option>
                    <option value="мультфильм">мультфильм</option>
                    <option value="семейный">семейный</option>
                    <option value="мюзикл">мюзикл</option>
                    <option value="спорт">спорт</option>
                    <option value="документальный">документальный</option>
                    <option value="короткометражка">короткометражка</option>
                    <option value="аниме">аниме</option>
                </select>
            </div>
            <div><label for="genre2">Жанр: </label>
                <select id="genre2" name="genre2">
                    <option value="триллер">триллер</option>
                    <option value="драма">драма</option>
                    <option value="криминал">криминал</option>
                    <option value="мелодрама">мелодрама</option>
                    <option value="детектив">детектив</option>
                    <option value="фантастика">фантастика</option>
                    <option value="приключения">приключения</option>
                    <option value="биография">биография</option>
                    <option value="фильм-нуар">фильм-нуар</option>
                    <option value="вестерн">вестерн</option>
                    <option value="боевик">боевик</option>
                    <option value="фэнтези">фэнтези</option>
                    <option value="комедия">комедия</option>
                    <option value="военный">военный</option>
                    <option value="история">история</option>
                    <option value="музыка">музыка</option>
                    <option value="ужасы">ужасы</option>
                    <option value="мультфильм">мультфильм</option>
                    <option value="семейный">семейный</option>
                    <option value="мюзикл">мюзикл</option>
                    <option value="спорт">спорт</option>
                    <option value="документальный">документальный</option>
                    <option value="короткометражка">короткометражка</option>
                    <option value="аниме">аниме</option>
                </select>
            </div>
            <div><label for="is_series">Сериал: </label>
                <input type="checkbox" id="is_series" name="is_series" value="on"></div>
            <div><label for="is_russia">Фильм отечественный: </label>
                <input type="checkbox" id="is_russia" name="is_russia" value="on"></div>
            <div class="form__rating">
                <label for="rating_from">Рейтинг от:</label>
                <input type="number" id="rating_from" name="rating_from" min="0" max="10" step="1">
                <label for="rating_to">Рейтинг до:</label>
                <input type="number" id="rating_to" name="rating_to" min="0" max="10" step="1">
            </div>
            <div class="form__date">
                <label for="rating_from">Год от:</label>
                <input type="number" id="year_from" name="year_from" min="1959" max="2023" step="1">
                <label for="rating_to">Год до:</label>
                <input type="number" id="year_to" name="year_to" min="1959" max="2023" step="1">
            </div>
            <button type="submit" class="form__generate"><p class="form__generate_text">Сгенерировать</p><span class="material-symbols-outlined form__generate_img">play_arrow</span></button>
        </div>
    </form>
    {% if movie %}
        <div class="posterFilm">
            <div class="posterFilm__wrapper container">
                <img src="{{ movie.poster }}" alt="Movie Poster" class="posterFilm_img">
                <div class="posterFilm__info">
                    <div class="posterFilm__info_title">{{ movie.name }}</div>
                    <div class="posterFilm__info__brief">
                        <div class="posterFilm__info__brief_block">{{ "Сериал" if movie.is_serial else "Фильм" }}</div>
                        <div class="posterFilm__info__brief_block">{{ movie.film_length if movie.film_length else "-"   }} мин</div>
                        <div class="posterFilm__info__brief_block">{{ movie.year_of_film }}</div>
                        <div class="posterFilm__info__brief_block">{{ movie.countries[0]}}</div>
                    </div>
                    <div class="posterFilm__info__rating">
                        <div class="posterFilm__info__rating_text">Рейтинг Кинопоиска: {{ movie.rating_kinopoisk or "-" }}</div>
                        <div class="posterFilm__info__rating_text">Рейтинг IMDb: {{ movie.rating_imdb or "-" }}</div>
                    </div>
                    <div class="posterFilm__info__description"><span class="bold">Описание:</span> {{ movie.description if movie.description else "Описание отсутствует" }}</div>
                    <div class="posterFilm__info__kinopoisk"><a href="{{ movie.web_url }}"> КИНОПОИСК </a></div>
                </div>
            </div>
        </div>
    {% else %}
        <div class="container">
            <p>Фильмы, соответствующие вашим критериям, не найдены.</p>
        </div>
    {% endif %}
</body>
</html>
